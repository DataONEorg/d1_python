
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Install CILogon and DataONE root CA certificates &mdash; v1.0.0</title>
    
    <link rel="stylesheet" href="_static/dataone.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <link rel="top" title="v1.0.0" href="index.html" />
    <link rel="up" title="GMN setup overview" href="setup.html" />
    <link rel="next" title="Install and configure Apache" href="setup-apache.html" />
    <link rel="prev" title="Install the DataONE client side certificate" href="setup-authn-client.html" />
   
  
  <link media="only screen and (max-device-width: 480px)" href="_static/small_dataone.css" type= "text/css" rel="stylesheet" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="setup-apache.html" title="Install and configure Apache"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="setup-authn-client.html" title="Install the DataONE client side certificate"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html"></a> &raquo;</li>
          <li><a href="setup.html" accesskey="U">GMN setup overview</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="install-cilogon-and-dataone-root-ca-certificates">
<h1>Install CILogon and DataONE root CA certificates<a class="headerlink" href="#install-cilogon-and-dataone-root-ca-certificates" title="Permalink to this headline">Â¶</a></h1>
<p>In the <a class="reference internal" href="glossary.html#term-dataone"><em class="xref std std-term">DataONE</em></a> infrastructure, <a class="reference internal" href="glossary.html#term-mn"><em class="xref std std-term">MN</em></a>s and <a class="reference internal" href="glossary.html#term-cn"><em class="xref std std-term">CN</em></a>s use
<a class="reference internal" href="glossary.html#term-x-509"><em class="xref std std-term">X.509</em></a> client side <a class="reference internal" href="glossary.html#term-certificate"><em class="xref std std-term">certificate</em></a>s for authenticating
<a class="reference internal" href="glossary.html#term-client"><em class="xref std std-term">client</em></a>s and other DataONE Nodes.</p>
<p>For a client side certificate to be considered valid by the server, the server
must trust the <a class="reference internal" href="glossary.html#term-ca"><em class="xref std std-term">CA</em></a> that signed the client side certificate. This step
sets up the CAs to be trusted.</p>
<p>Two basic types of client side certificates are used in the DataONE
infrastructure. The first type is issued by the <a class="reference internal" href="glossary.html#term-cilogon"><em class="xref std std-term">CILogon</em></a> CA and are used
for authenticating users. The second type is issued by the DataONE CA and are
used for authenticating Nodes.</p>
<p>CILogon is the identity provider for DataONE. CILogon provides three
<a class="reference internal" href="glossary.html#term-loa"><em class="xref std std-term">LOA</em></a>s. These instructions set GMN up to accept all three.</p>
<p>DataONE issues certificates that let Nodes communite securely in the DataONE
infrastructure. The DataONE <a class="reference internal" href="glossary.html#term-ca"><em class="xref std std-term">CA</em></a> root certificates must be trusted by all
Nodes.</p>
<p>The OS typically comes with a complete set of commonly trusted CA root
certificates. However, DataONE Nodes should not accept certificates signed by
these, so we establish a separate CA store for the CILogon and DataONE root CAs.</p>
<p>Two separate certificate chains are available. One is used for the DataONE
production environment and one is used for all the testing and development
environments. Only the DataONE CA differs between the chains.</p>
<blockquote>
<div><p>Create a folder for the CA certificates:</p>
<div class="highlight-none"><div class="highlight"><pre>$ sudo mkdir -p /var/local/dataone/certs/ca
</pre></div>
</div>
<p>Run <strong>one</strong> of the commands below, depending on which environment was selected
in <a class="reference internal" href="setup-env.html"><em>Select a DataONE environment</em></a>.</p>
<ul class="simple">
<li><em>Production</em></li>
</ul>
<div class="highlight-none"><div class="highlight"><pre># Only run this command for production installs.
$ sudo curl -o /var/local/dataone/certs/ca/cilogon_dataone_ca_chain.crt \
https://repository.dataone.org/software/tools/trunk/ca/DataONECAChain.crt
</pre></div>
</div>
<ul class="simple">
<li><em>Staging</em>, <em>Sandbox</em>, <em>Development</em></li>
</ul>
<div class="highlight-none"><div class="highlight"><pre># Only run this command for staging, sandbox and development installs.
$ sudo curl -o /var/local/dataone/certs/ca/cilogon_dataone_ca_chain.crt \
https://repository.dataone.org/software/tools/trunk/ca/DataONETestCAChain.crt
</pre></div>
</div>
</div></blockquote>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/dataone_logo.png" alt="Logo"/>
            </a></p><h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation Overview</a><ul>
  <li><a href="setup.html">GMN setup overview</a><ul>
      <li>Previous: <a href="setup-authn-client.html" title="previous chapter">Install the DataONE client side certificate</a></li>
      <li>Next: <a href="setup-apache.html" title="next chapter">Install and configure Apache</a></li>
  </ul></li>
  </ul></li>
</ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
      &copy; Copyright <a href="http:/www.dataone.org">2010-2012 Participating institutions in DataONE</a>.
        [ <a href="_sources/setup-authn-ca.txt"
               rel="nofollow">Page Source</a> | 
          <a href='https://redmine.dataone.org/projects/d1/repository/changes/documents/Projects/cicore/architecture/api-documentation/source/setup-authn-ca.txt'
            rel="nofollow">Revision History</a> ]&nbsp;&nbsp;
    </div>
    <!--
    <hr />
     <div id="HCB_comment_box"><a href="http://www.htmlcommentbox.com">HTML Comment Box</a> is loading comments...</div>
     <link rel="stylesheet" type="text/css" href="_static/skin.css" />
     <script type="text/javascript" language="javascript" id="hcb"> 
     /*<! -*/ 
     (function()
     {s=document.createElement("script");
     s.setAttribute("type","text/javascript");
     s.setAttribute("src", "http://www.htmlcommentbox.com/jread?page="+escape((typeof hcb_user !== "undefined" && hcb_user.PAGE)||(""+window.location)).replace("+","%2B")+"&mod=%241%24wq1rdBcg%24Gg8J5iYSHJWwAJtlYu/yU."+"&opts=21407&num=10");
     if (typeof s!="undefined") document.getElementsByTagName("head")[0].appendChild(s);})();
      /* ->*/ 
     </script>
   -->
  </body>
</html>