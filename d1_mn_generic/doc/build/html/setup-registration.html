
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Register the new Member Node with DataONE &mdash; v1.0.0</title>
    
    <link rel="stylesheet" href="_static/dataone.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <link rel="top" title="v1.0.0" href="index.html" />
    <link rel="up" title="GMN setup overview" href="setup.html" />
    <link rel="next" title="Select the DataONE Tier" href="setup-tier.html" />
    <link rel="prev" title="Install and configure PostgreSQL" href="setup-postgresql.html" />
   
  
  <link media="only screen and (max-device-width: 480px)" href="_static/small_dataone.css" type= "text/css" rel="stylesheet" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="setup-tier.html" title="Select the DataONE Tier"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="setup-postgresql.html" title="Install and configure PostgreSQL"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html"></a> &raquo;</li>
          <li><a href="setup.html" accesskey="U">GMN setup overview</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="register-the-new-member-node-with-dataone">
<h1>Register the new Member Node with DataONE<a class="headerlink" href="#register-the-new-member-node-with-dataone" title="Permalink to this headline">¶</a></h1>
<p>Before a Member Node can participate in the DataONE infrastructure, it must be
registered. Registering the MN involves the following steps:</p>
<ol class="arabic simple">
<li>Creating a DataONE identity in the environment that was selected in the
<a class="reference internal" href="setup-env.html"><em>Select a DataONE environment</em></a> step.</li>
<li>Submitting a Node document. The Node document describes the MN and
the level at which it will participate in the DataONE infrastructure.</li>
<li>DataONE evaluates the submission. Upon approval, the registration is
complete, and the Node is part of the DataONE infrastructure.</li>
</ol>
<p>Perform the steps in order, as each step depends on earlier steps.</p>
<div class="section" id="create-a-dataone-identity">
<h2>Create a DataONE identity<a class="headerlink" href="#create-a-dataone-identity" title="Permalink to this headline">¶</a></h2>
<p>Use the DataONE Identity Manager to create a DataONE identity for the
administrator / contact for the new MN.</p>
<blockquote>
<div>Visit <strong>&lt;environment-url&gt;</strong>/portal/ and follow the instructions.</div></blockquote>
</div>
<div class="section" id="submitting-a-node-document">
<h2>Submitting a Node document<a class="headerlink" href="#submitting-a-node-document" title="Permalink to this headline">¶</a></h2>
<p>GMN generates the Node document automatically based on the settings in
<tt class="docutils literal"><span class="pre">settings_site.py</span></tt>.</p>
<blockquote>
<div><p>Create a copy of the GMN settings template and edit the settings:</p>
<div class="highlight-none"><div class="highlight"><pre>$ cd /var/local/dataone/gmn/lib/python2.6/site-packages/service
$ sudo cp settings_site_template.py settings_site.py
</pre></div>
</div>
</div></blockquote>
<p>Django requires a unique, secret key to be set up for each application.</p>
<blockquote>
<div><p>Generate a random string:</p>
<div class="highlight-none"><div class="highlight"><pre>$ openssl rand -base64 32
</pre></div>
</div>
<ul>
<li><p class="first">Copy the string to the clipboard.</p>
</li>
<li><p class="first">Edit <tt class="docutils literal"><span class="pre">settings_site.py</span></tt>:</p>
<div class="highlight-none"><div class="highlight"><pre>$ sudo pico /var/local/dataone/gmn/lib/python2.6/site-packages/service/settings_site.py
</pre></div>
</div>
</li>
</ul>
<p>Modify the following settings:</p>
<ul class="simple">
<li>SECRET_KEY: Replace &#8216;MySecretKey&#8217; with the string that was generated in
the previous step.</li>
<li>NODE_IDENTIFIER: Select a short string that will uniquely designate your
Node in the DataONE infrastructure.</li>
<li>NODE_NAME: Select a name for your Node.</li>
<li>NODE_DESCRIPTION: Select a brief description for your Node.</li>
<li>NODE_BASEURL: Specify the URL at which your Node will be available.</li>
<li>NODE_SUBJECT: Specify the subject for this Node (retrieved from the client
certificate provided by DataONE)</li>
<li>NODE_CONTACT_SUBJECT: Specify the subject that was submitted as the
contact person for DataONE.</li>
<li>DATAONE_ROOT: Select the environment that matches the one that was
selected in <a class="reference internal" href="setup-env.html"><em>Select a DataONE environment</em></a>.</li>
<li>PASSWORD: Set the password that was selected for the gmn user in
<a class="reference internal" href="setup-postgresql.html"><em>Install and configure PostgreSQL</em></a>.</li>
</ul>
<p>After editing <tt class="docutils literal"><span class="pre">settings_site.py</span></tt>, check if the Node document is successfully
generated:</p>
<div class="highlight-none"><div class="highlight"><pre>$ su gmn
$ python /var/local/dataone/gmn/lib/python2.6/site-packages/service/manage.py register_node_with_dataone --view
</pre></div>
</div>
<p>If the Node document is successfully generated, an XML document will be
displayed. For more information about this document, refer to
<a class="reference external" href="http://mule1.dataone.org/ArchitectureDocs-current/apis/Types.html#Types.Node">http://mule1.dataone.org/ArchitectureDocs-current/apis/Types.html#Types.Node</a></p>
<p>When the Node document is successfully generated and displayed, register the
MN by submitting the Node document to DataONE. The Node document is
automatically submitted to DataONE over a TLS/SSL connection that has been
authenticated with the certificate obtained in <a class="reference internal" href="setup-authn-client.html"><em>Install the DataONE client side certificate</em></a>.</p>
<div class="highlight-none"><div class="highlight"><pre>$ python lib/python2.6/site-packages/service/manage.py register_node_with_dataone
</pre></div>
</div>
<ul class="simple">
<li>Check for a message saying that the registration was successful.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="dataone-evaluates-the-submission">
<h2>DataONE evaluates the submission<a class="headerlink" href="#dataone-evaluates-the-submission" title="Permalink to this headline">¶</a></h2>
<p>A new MN must be approved by DataONE. The person that is registered as
<em>contactSubject</em> in the Node document will be contacted by email with the
outcome of the approval process. After the Node has been approved, the Node is
part of the DataONE infrastructure and CNs will start processing the information
on the Node.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/dataone_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Register the new Member Node with DataONE</a><ul>
<li><a class="reference internal" href="#create-a-dataone-identity">Create a DataONE identity</a></li>
<li><a class="reference internal" href="#submitting-a-node-document">Submitting a Node document</a></li>
<li><a class="reference internal" href="#dataone-evaluates-the-submission">DataONE evaluates the submission</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation Overview</a><ul>
  <li><a href="setup.html">GMN setup overview</a><ul>
      <li>Previous: <a href="setup-postgresql.html" title="previous chapter">Install and configure PostgreSQL</a></li>
      <li>Next: <a href="setup-tier.html" title="next chapter">Select the DataONE Tier</a></li>
  </ul></li>
  </ul></li>
</ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
      &copy; Copyright <a href="http:/www.dataone.org">2010-2012 Participating institutions in DataONE</a>.
        [ <a href="_sources/setup-registration.txt"
               rel="nofollow">Page Source</a> | 
          <a href='https://redmine.dataone.org/projects/d1/repository/changes/documents/Projects/cicore/architecture/api-documentation/source/setup-registration.txt'
            rel="nofollow">Revision History</a> ]&nbsp;&nbsp;
    </div>
    <!--
    <hr />
     <div id="HCB_comment_box"><a href="http://www.htmlcommentbox.com">HTML Comment Box</a> is loading comments...</div>
     <link rel="stylesheet" type="text/css" href="_static/skin.css" />
     <script type="text/javascript" language="javascript" id="hcb"> 
     /*<! -*/ 
     (function()
     {s=document.createElement("script");
     s.setAttribute("type","text/javascript");
     s.setAttribute("src", "http://www.htmlcommentbox.com/jread?page="+escape((typeof hcb_user !== "undefined" && hcb_user.PAGE)||(""+window.location)).replace("+","%2B")+"&mod=%241%24wq1rdBcg%24Gg8J5iYSHJWwAJtlYu/yU."+"&opts=21407&num=10");
     if (typeof s!="undefined") document.getElementsByTagName("head")[0].appendChild(s);})();
      /* ->*/ 
     </script>
   -->
  </body>
</html>