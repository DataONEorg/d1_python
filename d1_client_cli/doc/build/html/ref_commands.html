
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Commands &mdash; v1.0.0</title>
    
    <link rel="stylesheet" href="_static/dataone.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <link rel="top" title="v1.0.0" href="index.html" />
    <link rel="up" title="Reference" href="reference.html" />
    <link rel="next" title="Overview of session variables" href="ref_session.html" />
    <link rel="prev" title="Startup" href="ref_startup.html" />
   
  
  <link media="only screen and (max-device-width: 480px)" href="_static/small_dataone.css" type= "text/css" rel="stylesheet" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ref_session.html" title="Overview of session variables"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ref_startup.html" title="Startup"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html"></a> &raquo;</li>
          <li><a href="reference.html" accesskey="U">Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="commands">
<h1><a class="toc-backref" href="#id18">Commands</a><a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#commands" id="id18">Commands</a><ul>
<li><a class="reference internal" href="#syntax" id="id19">Syntax</a></li>
<li><a class="reference internal" href="#cli" id="id20">CLI</a><ul>
<li><a class="reference internal" href="#help" id="id21">help</a></li>
<li><a class="reference internal" href="#history" id="id22">history</a></li>
<li><a class="reference internal" href="#exit" id="id23">exit</a></li>
<li><a class="reference internal" href="#quit" id="id24">exit</a></li>
</ul>
</li>
<li><a class="reference internal" href="#session-general" id="id25">Session, General</a><ul>
<li><a class="reference internal" href="#set-variable-value" id="id26">set [variable [value]]</a></li>
<li><a class="reference internal" href="#load-file" id="id27">load [file]</a></li>
<li><a class="reference internal" href="#save-config-file" id="id28">save [config_file]</a></li>
<li><a class="reference internal" href="#reset" id="id29">reset</a></li>
</ul>
</li>
<li><a class="reference internal" href="#session-access-control" id="id30">Session, Access Control</a><ul>
<li><a class="reference internal" href="#allowaccess-subject-access-level" id="id31">allowaccess &lt;subject&gt; [access level]</a></li>
<li><a class="reference internal" href="#denyaccess-subject" id="id32">denyaccess &lt;subject&gt;</a></li>
<li><a class="reference internal" href="#clearaccess" id="id33">clearaccess</a></li>
</ul>
</li>
<li><a class="reference internal" href="#session-replication-policy" id="id34">Session, Replication Policy</a><ul>
<li><a class="reference internal" href="#allowrep" id="id35">allowrep</a></li>
<li><a class="reference internal" href="#denyrep" id="id36">denyrep</a></li>
<li><a class="reference internal" href="#preferrep-member-node-member-node" id="id37">preferrep &lt;member node&gt; [member node ...]</a></li>
<li><a class="reference internal" href="#blockrep-member-node-member-node" id="id38">blockrep &lt;member node&gt; [member node ...]</a></li>
<li><a class="reference internal" href="#removerep-member-node-member-node" id="id39">removerep &lt;member node&gt; [member node ...]</a></li>
<li><a class="reference internal" href="#numberrep-number-of-replicas" id="id40">numberrep &lt;number of replicas&gt;</a></li>
<li><a class="reference internal" href="#clearrep" id="id41">clearrep</a></li>
</ul>
</li>
<li><a class="reference internal" href="#read-operations" id="id42">Read Operations</a><ul>
<li><a class="reference internal" href="#get-identifier-file" id="id43">get &lt;identifier&gt; &lt;file&gt;</a></li>
<li><a class="reference internal" href="#meta-identifier-file" id="id44">meta &lt;identifier&gt; [file]</a></li>
<li><a class="reference internal" href="#list" id="id45">list</a></li>
<li><a class="reference internal" href="#log" id="id46">log</a></li>
<li><a class="reference internal" href="#resolve-pid" id="id47">resolve &lt;<a class="reference internal" href="glossary.html#term-pid"><em class="xref std std-term">pid</em></a>&gt;</a></li>
</ul>
</li>
<li><a class="reference internal" href="#write-operations" id="id48">Write Operations</a><ul>
<li><a class="reference internal" href="#create-pid-file" id="id49">create &lt;<a class="reference internal" href="glossary.html#term-pid"><em class="xref std std-term">pid</em></a>&gt; &lt;file&gt;</a></li>
<li><a class="reference internal" href="#update-old-pid-new-pid-file" id="id50">update &lt;old-pid&gt; &lt;new-pid&gt; &lt;file&gt;</a></li>
<li><a class="reference internal" href="#package-package-pid-science-metadata-pid-science-pid-science-pid" id="id51">package &lt;package-pid&gt; &lt;science-metadata-pid&gt; &lt;science-pid&gt; [science-pid ...]</a></li>
<li><a class="reference internal" href="#archive-identifier-identifier" id="id52">archive &lt;identifier&gt; [identifier ...]</a></li>
<li><a class="reference internal" href="#updateaccess-identifier-identifier" id="id53">updateaccess &lt;identifier&gt; [identifier ...]</a></li>
<li><a class="reference internal" href="#updatereplication-identifier-identifier" id="id54">updatereplication &lt;identifier&gt; [identifier ...]</a></li>
</ul>
</li>
<li><a class="reference internal" href="#utilities" id="id55">Utilities</a><ul>
<li><a class="reference internal" href="#listformats" id="id56">listformats</a></li>
<li><a class="reference internal" href="#listnodes" id="id57">listnodes</a></li>
<li><a class="reference internal" href="#ping-base-url" id="id58">ping [base-url ...]</a></li>
</ul>
</li>
<li><a class="reference internal" href="#write-operation-queue" id="id59">Write Operation Queue</a><ul>
<li><a class="reference internal" href="#queue" id="id60">queue</a></li>
<li><a class="reference internal" href="#run" id="id61">run</a></li>
<li><a class="reference internal" href="#edit" id="id62">edit</a></li>
<li><a class="reference internal" href="#clearqueue" id="id63">clearqueue</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="syntax">
<h2><a class="toc-backref" href="#id19">Syntax</a><a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">&lt;...&gt;</span></tt> denotes required arguments.</p>
<p><tt class="docutils literal"><span class="pre">[...]</span></tt> denotes optional arguments.</p>
<p><tt class="docutils literal"><span class="pre">file</span></tt> is the filesystem path to a local file.</p>
<p>Commands are case sensitive.</p>
</div>
<div class="section" id="cli">
<span id="commands-cli"></span><h2><a class="toc-backref" href="#id20">CLI</a><a class="headerlink" href="#cli" title="Permalink to this headline">¶</a></h2>
<p>Commands that relate to the operation of the Command Line Interface itself.</p>
<div class="section" id="help">
<span id="id1"></span><h3><a class="toc-backref" href="#id21">help</a><a class="headerlink" href="#help" title="Permalink to this headline">¶</a></h3>
<p>Get help on commands</p>
<p><tt class="docutils literal"><span class="pre">help</span></tt> or <tt class="docutils literal"><span class="pre">?</span></tt> with no arguments displays a list of commands for which help is
available</p>
<p><tt class="docutils literal"><span class="pre">help</span> <span class="pre">&lt;command&gt;</span></tt> or <tt class="docutils literal"><span class="pre">?</span> <span class="pre">&lt;command&gt;</span></tt> gives help on &lt;command&gt;</p>
</div>
<div class="section" id="history">
<span id="id2"></span><h3><a class="toc-backref" href="#id22">history</a><a class="headerlink" href="#history" title="Permalink to this headline">¶</a></h3>
<p>Display a list of commands that have been entered</p>
</div>
<div class="section" id="exit">
<span id="id3"></span><h3><a class="toc-backref" href="#id23">exit</a><a class="headerlink" href="#exit" title="Permalink to this headline">¶</a></h3>
<p>Exit from the CLI</p>
</div>
<div class="section" id="quit">
<span id="id4"></span><h3><a class="toc-backref" href="#id24">exit</a><a class="headerlink" href="#quit" title="Permalink to this headline">¶</a></h3>
<p>Exit from the CLI</p>
</div>
</div>
<div class="section" id="session-general">
<span id="commands-session-general"></span><h2><a class="toc-backref" href="#id25">Session, General</a><a class="headerlink" href="#session-general" title="Permalink to this headline">¶</a></h2>
<p>Commands that view and manipulate the session and the session variables.</p>
<div class="section" id="set-variable-value">
<span id="set"></span><h3><a class="toc-backref" href="#id26">set [variable [value]]</a><a class="headerlink" href="#set-variable-value" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">set</span> <span class="pre">(without</span> <span class="pre">parameters)</span></tt>: Display the value of all session variables</p>
<p><tt class="docutils literal"><span class="pre">set</span> <span class="pre">&lt;session</span> <span class="pre">variable&gt;</span></tt>: Display the value of a single session variable.</p>
<p><tt class="docutils literal"><span class="pre">set</span> <span class="pre">&lt;session</span> <span class="pre">variable&gt;</span> <span class="pre">&lt;value&gt;</span></tt>: Set the value of a session variable.</p>
<p>See <a class="reference internal" href="ref_operation.html#access-policy"><em>Access Policy</em></a> and <em class="xref std std-ref">replication_policy</em> for information about how
to set the Access Policy and Replication Policy session variables.</p>
<p>An unset session variable has its value displayed as None. A session variable
can either be a Boolean (True / False), numeric or string value. See <a class="reference internal" href="#set"><em>set [variable [value]]</em></a>
for more information on how to set session variables.</p>
<p>Also see <a class="reference internal" href="ref_session.html#session-variables"><em>overview of session variables</em></a>.</p>
</div>
<div class="section" id="load-file">
<span id="load"></span><h3><a class="toc-backref" href="#id27">load [file]</a><a class="headerlink" href="#load-file" title="Permalink to this headline">¶</a></h3>
<p>Load session variables from file</p>
<p><tt class="docutils literal"><span class="pre">load</span> <span class="pre">(without</span> <span class="pre">parameters)</span></tt>: Load session from default file <tt class="docutils literal"><span class="pre">~/.dataone_cli.conf</span></tt></p>
<p><tt class="docutils literal"><span class="pre">load</span> <span class="pre">&lt;file&gt;</span></tt>: Load session from specified file</p>
</div>
<div class="section" id="save-config-file">
<span id="save"></span><h3><a class="toc-backref" href="#id28">save [config_file]</a><a class="headerlink" href="#save-config-file" title="Permalink to this headline">¶</a></h3>
<p>Save session variables to file</p>
<p><tt class="docutils literal"><span class="pre">save</span> <span class="pre">(without</span> <span class="pre">parameters)</span></tt>: Save session to default file <tt class="docutils literal"><span class="pre">~/.dataone_cli.conf</span></tt></p>
<p><tt class="docutils literal"><span class="pre">save</span> <span class="pre">&lt;file&gt;</span></tt>: Save session to specified file</p>
</div>
<div class="section" id="reset">
<span id="id5"></span><h3><a class="toc-backref" href="#id29">reset</a><a class="headerlink" href="#reset" title="Permalink to this headline">¶</a></h3>
<p>Set all session variables to their default values</p>
<p>The defaults are listed in the <tt class="docutils literal"><span class="pre">Default</span></tt> column in the <a class="reference internal" href="ref_session.html#session-variables"><em>overview of
session variables</em></a>.</p>
</div>
</div>
<div class="section" id="session-access-control">
<span id="commands-access-control"></span><h2><a class="toc-backref" href="#id30">Session, Access Control</a><a class="headerlink" href="#session-access-control" title="Permalink to this headline">¶</a></h2>
<p>The Access Policy is a list of subjects and their associated access levels. The
Access Policy is applied to new objects as they are <a class="reference internal" href="#create"><em>created</em></a>. The
Access Policy can also be updated on existing Science Data Objects with
<a class="reference internal" href="#updateaccess"><em>updateaccess &lt;identifier&gt; [identifier ...]</em></a>.</p>
<p>Use the <a class="reference internal" href="#set"><em>set [variable [value]]</em></a> command without any parameters to view the current Access
Policy.</p>
<div class="section" id="allowaccess-subject-access-level">
<span id="allowaccess"></span><h3><a class="toc-backref" href="#id31">allowaccess &lt;subject&gt; [access level]</a><a class="headerlink" href="#allowaccess-subject-access-level" title="Permalink to this headline">¶</a></h3>
<p>Set the access level for subject</p>
<p>Access level is <tt class="docutils literal"><span class="pre">read</span></tt>, <cite>write`</cite> or <tt class="docutils literal"><span class="pre">changePermission</span></tt>.</p>
<p>Access level defaults to <tt class="docutils literal"><span class="pre">read</span></tt> if not specified.</p>
<p>Special subjects:</p>
<blockquote>
<div><p><tt class="docutils literal"><span class="pre">public</span></tt>: Any subject, authenticated and not authenticated</p>
<p><tt class="docutils literal"><span class="pre">authenticatedUser</span></tt>: Any subject that has authenticated with CILogon</p>
<p><tt class="docutils literal"><span class="pre">verifiedUser</span></tt>: Any subject that has authenticated with CILogon and has been verified by DataONE</p>
</div></blockquote>
<p>Any access level implicitly includes less permissive levels. E.g., giving
<tt class="docutils literal"><span class="pre">changePermission</span></tt> to a subject implicitly gives <tt class="docutils literal"><span class="pre">read</span></tt> and <tt class="docutils literal"><span class="pre">write</span></tt>
permissions as well.</p>
<p>To make objects accessible to the general public, give <tt class="docutils literal"><span class="pre">read</span></tt> access to the
public user. In some cases, it is desirable to obtain log records that include
information about who accessed a given object while still making the object
publicly accessible. This can be accomplished by giving <tt class="docutils literal"><span class="pre">read</span></tt> access only to
authenticatedUser. Access higher than <tt class="docutils literal"><span class="pre">read</span></tt> should not be given to any of the
special subjects.</p>
</div>
<div class="section" id="denyaccess-subject">
<span id="denyaccess"></span><h3><a class="toc-backref" href="#id32">denyaccess &lt;subject&gt;</a><a class="headerlink" href="#denyaccess-subject" title="Permalink to this headline">¶</a></h3>
<p>Remove subject from Access Policy.</p>
</div>
<div class="section" id="clearaccess">
<span id="id6"></span><h3><a class="toc-backref" href="#id33">clearaccess</a><a class="headerlink" href="#clearaccess" title="Permalink to this headline">¶</a></h3>
<p>Remove all subjects from Access Policy.</p>
<p>Only the submitter will have access to the object.</p>
</div>
</div>
<div class="section" id="session-replication-policy">
<span id="commands-replication-policy"></span><h2><a class="toc-backref" href="#id34">Session, Replication Policy</a><a class="headerlink" href="#session-replication-policy" title="Permalink to this headline">¶</a></h2>
<div class="section" id="allowrep">
<span id="id7"></span><h3><a class="toc-backref" href="#id35">allowrep</a><a class="headerlink" href="#allowrep" title="Permalink to this headline">¶</a></h3>
<p>Allow new objects to be replicated</p>
</div>
<div class="section" id="denyrep">
<span id="id8"></span><h3><a class="toc-backref" href="#id36">denyrep</a><a class="headerlink" href="#denyrep" title="Permalink to this headline">¶</a></h3>
<p>Prevent new objects from being replicated</p>
</div>
<div class="section" id="preferrep-member-node-member-node">
<span id="preferrep"></span><h3><a class="toc-backref" href="#id37">preferrep &lt;member node&gt; [member node ...]</a><a class="headerlink" href="#preferrep-member-node-member-node" title="Permalink to this headline">¶</a></h3>
<p>Add one or more preferred Member Nodes to replication policy</p>
</div>
<div class="section" id="blockrep-member-node-member-node">
<span id="blockrep"></span><h3><a class="toc-backref" href="#id38">blockrep &lt;member node&gt; [member node ...]</a><a class="headerlink" href="#blockrep-member-node-member-node" title="Permalink to this headline">¶</a></h3>
<p>Add Member Node to list of blocked replication targets.</p>
</div>
<div class="section" id="removerep-member-node-member-node">
<span id="removerep"></span><h3><a class="toc-backref" href="#id39">removerep &lt;member node&gt; [member node ...]</a><a class="headerlink" href="#removerep-member-node-member-node" title="Permalink to this headline">¶</a></h3>
<p>Remove Member Node from list of preferred or blocked replication targets.</p>
</div>
<div class="section" id="numberrep-number-of-replicas">
<span id="numberrep"></span><h3><a class="toc-backref" href="#id40">numberrep &lt;number of replicas&gt;</a><a class="headerlink" href="#numberrep-number-of-replicas" title="Permalink to this headline">¶</a></h3>
<p>Set preferred number of replicas for new objects</p>
<p>If the preferred number of replicas is set to zero, replication is also
disallowed.</p>
</div>
<div class="section" id="clearrep">
<span id="id9"></span><h3><a class="toc-backref" href="#id41">clearrep</a><a class="headerlink" href="#clearrep" title="Permalink to this headline">¶</a></h3>
<p>Set the replication policy to default</p>
<p>The default replication policy has no preferred or blocked member nodes, allows
replication and sets the preferred number of replicas to 3.</p>
</div>
</div>
<div class="section" id="read-operations">
<span id="commands-read-operations"></span><h2><a class="toc-backref" href="#id42">Read Operations</a><a class="headerlink" href="#read-operations" title="Permalink to this headline">¶</a></h2>
<p>Commands that cause read operations to be issued against Coordinating Nodes and
Member Nodes.</p>
<p>Commands for retrieving <a class="reference internal" href="glossary.html#term-science-data-object"><em class="xref std std-term">Science Data Objects</em></a>, <a class="reference internal" href="glossary.html#term-system-metadata"><em class="xref std std-term">System Metadata</em></a> and related information.</p>
<div class="section" id="get-identifier-file">
<span id="get"></span><h3><a class="toc-backref" href="#id43">get &lt;identifier&gt; &lt;file&gt;</a><a class="headerlink" href="#get-identifier-file" title="Permalink to this headline">¶</a></h3>
<p>Get an object from a Member Node</p>
<p>The object is saved to <tt class="docutils literal"><span class="pre">file</span></tt>.</p>
<p>Active session variables: <a class="reference internal" href="ref_session.html#mn-url"><em>mn-url</em></a>, <em class="xref std std-ref">authentication</em></p>
</div>
<div class="section" id="meta-identifier-file">
<span id="meta"></span><h3><a class="toc-backref" href="#id44">meta &lt;identifier&gt; [file]</a><a class="headerlink" href="#meta-identifier-file" title="Permalink to this headline">¶</a></h3>
<p>Get the System Metadata that is associated with a Science Object</p>
<p>If the metadata is not on the Coordinating Node, the Member Node is checked.</p>
<p>Provide <tt class="docutils literal"><span class="pre">file</span></tt> to save the System Metada to disk instead of displaying it.</p>
<p>Active session variables: <a class="reference internal" href="ref_session.html#cn-url"><em>cn-url</em></a>, <em class="xref std std-ref">authentication</em></p>
</div>
<div class="section" id="list">
<span id="id10"></span><h3><a class="toc-backref" href="#id45">list</a><a class="headerlink" href="#list" title="Permalink to this headline">¶</a></h3>
<p>Retrieve a list of available Science Data Objects from Member Node</p>
<p>The response is filtered by the from-date, to-date, search, start and count
session variables.</p>
<p>Active session variables: <a class="reference internal" href="ref_session.html#mn-url"><em>mn-url</em></a>, <a class="reference internal" href="ref_session.html#start"><em>start</em></a>,
<a class="reference internal" href="ref_session.html#count"><em>count</em></a>, <a class="reference internal" href="ref_session.html#from-date"><em>from-date</em></a>, <a class="reference internal" href="ref_session.html#to-date"><em>to-date</em></a>,
<a class="reference internal" href="ref_session.html#search-format-id"><em>search-format-id</em></a>, <em class="xref std std-ref">authentication</em></p>
<p>See also: <a class="reference internal" href="search.html"><em>Search Page</em></a></p>
</div>
<div class="section" id="log">
<span id="id11"></span><h3><a class="toc-backref" href="#id46">log</a><a class="headerlink" href="#log" title="Permalink to this headline">¶</a></h3>
<p>Retrieve event log from Member Node</p>
<p>The response is filtered by the from-date, to-date, start and count session
parameters.</p>
<p>Active session variables: <a class="reference internal" href="ref_session.html#mn-url"><em>mn-url</em></a>, <a class="reference internal" href="ref_session.html#start"><em>start</em></a>,
<a class="reference internal" href="ref_session.html#count"><em>count</em></a>, <a class="reference internal" href="ref_session.html#from-date"><em>from-date</em></a>, <a class="reference internal" href="ref_session.html#to-date"><em>to-date</em></a>,
<a class="reference internal" href="ref_session.html#search-format-id"><em>search-format-id</em></a>, <em class="xref std std-ref">authentication</em></p>
</div>
<div class="section" id="resolve-pid">
<span id="resolve"></span><h3><a class="toc-backref" href="#id47">resolve &lt;<a class="reference internal" href="glossary.html#term-pid"><em class="xref std std-term">pid</em></a>&gt;</a><a class="headerlink" href="#resolve-pid" title="Permalink to this headline">¶</a></h3>
<p>Find all locations from which the given Science Object can be downloaded.</p>
<p>Active session variables: <a class="reference internal" href="ref_session.html#cn-url"><em>cn-url</em></a>, <em class="xref std std-ref">authentication</em></p>
</div>
</div>
<div class="section" id="write-operations">
<span id="commands-write-operations"></span><h2><a class="toc-backref" href="#id48">Write Operations</a><a class="headerlink" href="#write-operations" title="Permalink to this headline">¶</a></h2>
<p>Commands that cause write operations to be issued against Coordinating Nodes and
Member Nodes.</p>
<div class="section" id="create-pid-file">
<span id="create"></span><h3><a class="toc-backref" href="#id49">create &lt;<a class="reference internal" href="glossary.html#term-pid"><em class="xref std std-term">pid</em></a>&gt; &lt;file&gt;</a><a class="headerlink" href="#create-pid-file" title="Permalink to this headline">¶</a></h3>
<p>Create a new Science Object on a Member Node.</p>
<p>The System Metadata that becomes associated with the new Science Object is
generated from the session variables.</p>
<p>The algorithm set in <a class="reference internal" href="ref_session.html#algorithm"><em>algorithm</em></a> is used for calculating the checksum
for the new object. If the value is unset, it defaults to the DataONE system
wide default, which is currently SHA1.</p>
<p>Active session variables: <a class="reference internal" href="ref_session.html#mn-url"><em>mn-url</em></a>, <a class="reference internal" href="ref_session.html#format-id"><em>format-id</em></a>, <a class="reference internal" href="ref_session.html#submitter"><em>submitter</em></a>, <a class="reference internal" href="ref_session.html#rights-holder"><em>rights-holder</em></a>, <a class="reference internal" href="ref_session.html#origin-mn"><em>origin-mn</em></a>, <a class="reference internal" href="ref_session.html#authoritative-mn"><em>authoritative-mn</em></a>, <a class="reference internal" href="ref_session.html#algorithm"><em>algorithm</em></a>, <a class="reference internal" href="ref_operation.html#access-policy"><em>Access Policy</em></a>,
<em class="xref std std-ref">replication_policy</em>, <em class="xref std std-ref">authentication</em></p>
</div>
<div class="section" id="update-old-pid-new-pid-file">
<span id="update"></span><h3><a class="toc-backref" href="#id50">update &lt;old-pid&gt; &lt;new-pid&gt; &lt;file&gt;</a><a class="headerlink" href="#update-old-pid-new-pid-file" title="Permalink to this headline">¶</a></h3>
<p>Replace an existing Science Object in a <a class="reference internal" href="glossary.html#term-mn"><em class="xref std std-term">MN</em></a> with another.</p>
<p>The existing Science Object becomes obsoleted by the new Science Object.
obsoleted by the new values in the <a class="reference internal" href="ref_session.html#session-variables"><em>System Metadata</em></a>,
<a class="reference internal" href="ref_operation.html#access-policy"><em>Access Policy</em></a> and <em class="xref std std-ref">replication_policy</em> session variables.</p>
<p>The algorithm set in <a class="reference internal" href="ref_session.html#algorithm"><em>algorithm</em></a> is used for calculating the
checksum for the new object. If the value is unset, it defaults to the DataONE
system wide default, which is currently SHA1.</p>
<p>Active session variables: <a class="reference internal" href="ref_session.html#mn-url"><em>mn-url</em></a>, <a class="reference internal" href="ref_session.html#format-id"><em>format-id</em></a>,
<a class="reference internal" href="ref_session.html#submitter"><em>submitter</em></a>, <a class="reference internal" href="ref_session.html#rights-holder"><em>rights-holder</em></a>,
<a class="reference internal" href="ref_session.html#origin-mn"><em>origin-mn</em></a>, <a class="reference internal" href="ref_session.html#authoritative-mn"><em>authoritative-mn</em></a>,
<a class="reference internal" href="ref_session.html#algorithm"><em>algorithm</em></a>, <a class="reference internal" href="ref_operation.html#access-policy"><em>Access Policy</em></a>, <em class="xref std std-ref">replication_policy</em>,
<em class="xref std std-ref">authentication</em></p>
</div>
<div class="section" id="package-package-pid-science-metadata-pid-science-pid-science-pid">
<span id="package"></span><h3><a class="toc-backref" href="#id51">package &lt;package-pid&gt; &lt;science-metadata-pid&gt; &lt;science-pid&gt; [science-pid ...]</a><a class="headerlink" href="#package-package-pid-science-metadata-pid-science-pid-science-pid" title="Permalink to this headline">¶</a></h3>
<p>Create a simple <a class="reference internal" href="glossary.html#term-oai-ore"><em class="xref std std-term">OAI-ORE</em></a> Resource Map on a Member Node</p>
</div>
<div class="section" id="archive-identifier-identifier">
<span id="archive"></span><h3><a class="toc-backref" href="#id52">archive &lt;identifier&gt; [identifier ...]</a><a class="headerlink" href="#archive-identifier-identifier" title="Permalink to this headline">¶</a></h3>
<p>Mark one or more existing Science Objects as archived</p>
</div>
<div class="section" id="updateaccess-identifier-identifier">
<span id="updateaccess"></span><h3><a class="toc-backref" href="#id53">updateaccess &lt;identifier&gt; [identifier ...]</a><a class="headerlink" href="#updateaccess-identifier-identifier" title="Permalink to this headline">¶</a></h3>
<p>Update the Access Policy on one or more existing Science Data Objects</p>
<p>Requires that the calling subject has <em class="xref std std-ref">authenticated</em> and
has changePermission access level on the object for which Access Policy is to be
updated.</p>
<p>Active session variables: <a class="reference internal" href="ref_session.html#cn-url"><em>cn-url</em></a>, <em class="xref std std-ref">authentication</em>,
<a class="reference internal" href="ref_operation.html#access-policy"><em>Access Policy</em></a></p>
</div>
<div class="section" id="updatereplication-identifier-identifier">
<span id="updatereplication"></span><h3><a class="toc-backref" href="#id54">updatereplication &lt;identifier&gt; [identifier ...]</a><a class="headerlink" href="#updatereplication-identifier-identifier" title="Permalink to this headline">¶</a></h3>
<p>Update the Replication Policy on one or more existing Science Data Objects</p>
<p>Requires that the calling subject has <em class="xref std std-ref">authenticated</em> and
has changePermission access level on the object for which Replication Policy is
to be updated.</p>
<p>Active session variables: <a class="reference internal" href="ref_session.html#cn-url"><em>cn-url</em></a>, <em class="xref std std-ref">replication_policy</em>,
<em class="xref std std-ref">authentication</em></p>
</div>
</div>
<div class="section" id="utilities">
<span id="commands-utilities"></span><h2><a class="toc-backref" href="#id55">Utilities</a><a class="headerlink" href="#utilities" title="Permalink to this headline">¶</a></h2>
<div class="section" id="listformats">
<span id="id12"></span><h3><a class="toc-backref" href="#id56">listformats</a><a class="headerlink" href="#listformats" title="Permalink to this headline">¶</a></h3>
<p>Display all known Object Format IDs</p>
</div>
<div class="section" id="listnodes">
<span id="id13"></span><h3><a class="toc-backref" href="#id57">listnodes</a><a class="headerlink" href="#listnodes" title="Permalink to this headline">¶</a></h3>
<p>Display all known DataONE Nodes</p>
<p id="search">search [query]
Comprehensive search for Science Data Objects across all available MNs</p>
<p>See <a class="reference external" href="http://mule1.dataone.org/ArchitectureDocs-current/design/SearchMetadata.html">http://mule1.dataone.org/ArchitectureDocs-current/design/SearchMetadata.html</a>
for the available search terms.</p>
</div>
<div class="section" id="ping-base-url">
<span id="ping"></span><h3><a class="toc-backref" href="#id58">ping [base-url ...]</a><a class="headerlink" href="#ping-base-url" title="Permalink to this headline">¶</a></h3>
<p>Check if a server responds to the DataONE ping() API method ping (no arguments):
Ping the CN and MN that is specified in the session ping &lt;base-url&gt; [base-url
...]: Ping each CN or MN</p>
<p>If an incomplete base-url is provided, default CN and MN base URLs at the given
url are pinged.</p>
</div>
</div>
<div class="section" id="write-operation-queue">
<span id="commands-write-operation-queue"></span><h2><a class="toc-backref" href="#id59">Write Operation Queue</a><a class="headerlink" href="#write-operation-queue" title="Permalink to this headline">¶</a></h2>
<p>Commands that view and manipulate the write operation queue.</p>
<div class="section" id="queue">
<span id="id14"></span><h3><a class="toc-backref" href="#id60">queue</a><a class="headerlink" href="#queue" title="Permalink to this headline">¶</a></h3>
<p>Print the queue of write operations.</p>
</div>
<div class="section" id="run">
<span id="id15"></span><h3><a class="toc-backref" href="#id61">run</a><a class="headerlink" href="#run" title="Permalink to this headline">¶</a></h3>
<p>Perform each operation in the queue of write operations</p>
</div>
<div class="section" id="edit">
<span id="id16"></span><h3><a class="toc-backref" href="#id62">edit</a><a class="headerlink" href="#edit" title="Permalink to this headline">¶</a></h3>
<p>Edit the queue of write operations</p>
</div>
<div class="section" id="clearqueue">
<span id="id17"></span><h3><a class="toc-backref" href="#id63">clearqueue</a><a class="headerlink" href="#clearqueue" title="Permalink to this headline">¶</a></h3>
<p>Remove the operations in the queue of write operations without performing them</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/dataone_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Commands</a><ul>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
<li><a class="reference internal" href="#cli">CLI</a><ul>
<li><a class="reference internal" href="#help">help</a></li>
<li><a class="reference internal" href="#history">history</a></li>
<li><a class="reference internal" href="#exit">exit</a></li>
<li><a class="reference internal" href="#quit">exit</a></li>
</ul>
</li>
<li><a class="reference internal" href="#session-general">Session, General</a><ul>
<li><a class="reference internal" href="#set-variable-value">set [variable [value]]</a></li>
<li><a class="reference internal" href="#load-file">load [file]</a></li>
<li><a class="reference internal" href="#save-config-file">save [config_file]</a></li>
<li><a class="reference internal" href="#reset">reset</a></li>
</ul>
</li>
<li><a class="reference internal" href="#session-access-control">Session, Access Control</a><ul>
<li><a class="reference internal" href="#allowaccess-subject-access-level">allowaccess &lt;subject&gt; [access level]</a></li>
<li><a class="reference internal" href="#denyaccess-subject">denyaccess &lt;subject&gt;</a></li>
<li><a class="reference internal" href="#clearaccess">clearaccess</a></li>
</ul>
</li>
<li><a class="reference internal" href="#session-replication-policy">Session, Replication Policy</a><ul>
<li><a class="reference internal" href="#allowrep">allowrep</a></li>
<li><a class="reference internal" href="#denyrep">denyrep</a></li>
<li><a class="reference internal" href="#preferrep-member-node-member-node">preferrep &lt;member node&gt; [member node ...]</a></li>
<li><a class="reference internal" href="#blockrep-member-node-member-node">blockrep &lt;member node&gt; [member node ...]</a></li>
<li><a class="reference internal" href="#removerep-member-node-member-node">removerep &lt;member node&gt; [member node ...]</a></li>
<li><a class="reference internal" href="#numberrep-number-of-replicas">numberrep &lt;number of replicas&gt;</a></li>
<li><a class="reference internal" href="#clearrep">clearrep</a></li>
</ul>
</li>
<li><a class="reference internal" href="#read-operations">Read Operations</a><ul>
<li><a class="reference internal" href="#get-identifier-file">get &lt;identifier&gt; &lt;file&gt;</a></li>
<li><a class="reference internal" href="#meta-identifier-file">meta &lt;identifier&gt; [file]</a></li>
<li><a class="reference internal" href="#list">list</a></li>
<li><a class="reference internal" href="#log">log</a></li>
<li><a class="reference internal" href="#resolve-pid">resolve &lt;<tt class="docutils literal"><span class="pre">pid</span></tt>&gt;</a></li>
</ul>
</li>
<li><a class="reference internal" href="#write-operations">Write Operations</a><ul>
<li><a class="reference internal" href="#create-pid-file">create &lt;<tt class="docutils literal"><span class="pre">pid</span></tt>&gt; &lt;file&gt;</a></li>
<li><a class="reference internal" href="#update-old-pid-new-pid-file">update &lt;old-pid&gt; &lt;new-pid&gt; &lt;file&gt;</a></li>
<li><a class="reference internal" href="#package-package-pid-science-metadata-pid-science-pid-science-pid">package &lt;package-pid&gt; &lt;science-metadata-pid&gt; &lt;science-pid&gt; [science-pid ...]</a></li>
<li><a class="reference internal" href="#archive-identifier-identifier">archive &lt;identifier&gt; [identifier ...]</a></li>
<li><a class="reference internal" href="#updateaccess-identifier-identifier">updateaccess &lt;identifier&gt; [identifier ...]</a></li>
<li><a class="reference internal" href="#updatereplication-identifier-identifier">updatereplication &lt;identifier&gt; [identifier ...]</a></li>
</ul>
</li>
<li><a class="reference internal" href="#utilities">Utilities</a><ul>
<li><a class="reference internal" href="#listformats">listformats</a></li>
<li><a class="reference internal" href="#listnodes">listnodes</a></li>
<li><a class="reference internal" href="#ping-base-url">ping [base-url ...]</a></li>
</ul>
</li>
<li><a class="reference internal" href="#write-operation-queue">Write Operation Queue</a><ul>
<li><a class="reference internal" href="#queue">queue</a></li>
<li><a class="reference internal" href="#run">run</a></li>
<li><a class="reference internal" href="#edit">edit</a></li>
<li><a class="reference internal" href="#clearqueue">clearqueue</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation Overview</a><ul>
  <li><a href="reference.html">Reference</a><ul>
      <li>Previous: <a href="ref_startup.html" title="previous chapter">Startup</a></li>
      <li>Next: <a href="ref_session.html" title="next chapter">Overview of session variables</a></li>
  </ul></li>
  </ul></li>
</ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
      &copy; Copyright <a href="http://www.dataone.org">2009-2012, DataONE</a>.
        [ <a href="_sources/ref_commands.txt"
               rel="nofollow">Page Source</a> | 
          <a href='https://redmine.dataone.org/projects/d1/repository/changes/documents/Projects/cicore/architecture/api-documentation/source/ref_commands.txt'
            rel="nofollow">Revision History</a> ]&nbsp;&nbsp;<br />
      <div id="acknowledgement" style="text-align:center">
        <p>This material is based upon work supported by the National Science Foundation 
          under <a href="http://www.nsf.gov/awardsearch/showAward?AWD_ID=0830944">Grant Number 083094</a>.</p>
        <p>Any opinions, findings, and conclusions or recommendations expressed in this 
           material are those of the author(s) and do not necessarily reflect the views 
           of the National Science Foundation.</p>
      </div>
    </div>
    <!--
    <hr />
     <div id="HCB_comment_box"><a href="http://www.htmlcommentbox.com">HTML Comment Box</a> is loading comments...</div>
     <link rel="stylesheet" type="text/css" href="_static/skin.css" />
     <script type="text/javascript" language="javascript" id="hcb"> 
     /*<! -*/ 
     (function()
     {s=document.createElement("script");
     s.setAttribute("type","text/javascript");
     s.setAttribute("src", "http://www.htmlcommentbox.com/jread?page="+escape((typeof hcb_user !== "undefined" && hcb_user.PAGE)||(""+window.location)).replace("+","%2B")+"&mod=%241%24wq1rdBcg%24Gg8J5iYSHJWwAJtlYu/yU."+"&opts=21407&num=10");
     if (typeof s!="undefined") document.getElementsByTagName("head")[0].appendChild(s);})();
      /* ->*/ 
     </script>
   -->
  </body>
</html>